<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Andrew Ang">
		<title>Add a friend</title>
		<link href="http://leia.cs.spu.edu/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body class = "container" onload = "getAll()">
            <h2>Get all friends</h2>
			  <div class="jumbotron" style="">
			  <div id="output"> </div>
			  </div>
		 <script>
			var arr;
			function getAll() {
				var url = "http://leia.cs.spu.edu:3014/api/friends";
				var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
			      	if (this.readyState == 4 && this.status == 200) {
					arr = JSON.parse(this.responseText);
					console.log(arr);
					//window.location = url;
			
			var value =  "<table class=\"table table-bordered table-hover\">\n"  +	
                              "<thead>\n" +
                                       "<tr>\n"  +
                                               "<th scope=\"col\">Friend ID</th>\n"  +
                                               "<th scope=\"col\">Birth Date</th>\n"  +
                                               "<th scope=\"col\">First Name</th>\n"  +
                                               "<th scope=\"col\">Last Name</th>\n"  +
                                               "<th scope=\"col\">Gender</th>\n"  +
                                               "<th scope=\"col\">Phone</th>\n"  +
                                       "</tr>\n" +
                               "</thead>\n" +
                               "<tbody>\n";
    
 				for (var i = 0; i < arr.length; i++) { 
                                        value += "<tr> \n"  +
					      " <td> " + arr[i].friend_id + "</td>\n" +
                                               "<td>" + arr[i].birth_date + "</td>\n" +
                                                       "<td>" + arr[i].first_name + "</td>\n" +
                                                       "<td>" + arr[i].last_name + "</td>\n" +
                                                       "<td>" + arr[i].gender + "</td>\n" +
                                                       "<td>" + arr[i].phone + "</td>\n" +
                                               "</tr>\n";
				   
				}
				value += "</tbody>\n" +
					"</table>";	
				document.getElementById("output").innerHTML = value;			
				}

		      };	
			      xhttp.open("GET", url, true);
			      xhttp.send();      
			}	
		</script>
	</body>
</html> 
